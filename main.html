<!DOCTYPE html>
<html>
	<head>
		<meta charset=utf-8>
		<title>My first Three.js app</title>
		<style>
			body { margin: 0; }
			canvas { width: 100%; height: 100% }
		</style>
	</head>
	<body>
		<script src="js/three.min.js"></script>
		<script src="http://threejs.org/examples/js/effects/VREffect.js"></script>
		<script src="http://threejs.org/examples/js/controls/VRControls.js"></script>
		<script src="js/makers.js"></script>
		<script src="js/controls.js"></script>
		<script>
			var scene = new THREE.Scene();
			var camera = new THREE.PerspectiveCamera(
				75, window.innerWidth / window.innerHeight, 0.1, 1000);

			var renderer = new THREE.WebGLRenderer();
			renderer.setPixelRatio(window.devicePixelRatio);

			if (navigator.getVRDevices === undefined) {
				document.body.innerHTML = "Your browser does not support WebVR";
				document.body.classList.add('error');
			}

			var vrEffect = new THREE.VREffect( renderer, null);
			var vrControls = new THREE.VRControls(camera);
			vrEffect.setFullScreen(true);

			document.body.appendChild(renderer.domElement);

			var cube = generateBox(0, 1, -6, 6);
			var ground = generateBox(-1, 0, -1, 0.2);
			var xAxis = generateLine(new THREE.Vector3(0, 0, 0),
				new THREE.Vector3(100, 0, 0));
			var yAxis = generateLine(new THREE.Vector3(0, 0, 0),
				new THREE.Vector3(0, 100, 0));
			var zAxis = generateLine(new THREE.Vector3(0, 0, 0),
				new THREE.Vector3(0, 0, 100));
			scene.add(cube);
			var plane = new THREE.Mesh(new THREE.PlaneGeometry(4, 4), new THREE.MeshBasicMaterial({color:0xffff00}));
			scene.add(plane);
			scene.add(yAxis);

			camera.position.z = 5;
			camera.rotation

			var START_VEL = new THREE.Vector3(0.06, 0.02, 0.00);
			var velocity = new THREE.Vector3().copy(START_VEL);

			document.onkeypress = function(event) {
				handle(event.key, camera);
			}

			function render() {
				requestAnimationFrame(render);
				//move(camera, velocity)
				vrControls.update();
				vrEffect.render(scene, camera);
			}
			render();

			function slow(target, amount) {
				target = new THREE.Vector3().subVectors(target, amount);
			}
		</script>
	</body>
</html>